## 1계층: 물리 계층 기기

### 허브 (Hub)

**"전기적 연결만 제공하는 멀티탭"**

- 모든 포트에 신호를 그대로 복사해서 전송
- 충돌 도메인을 나누지 못함
- 반이중 통신 (동시 송수신 불가)

```
PC1이 데이터 전송 → 허브가 모든 포트로 복사
PC2, PC3, PC4 모두 받음 (브로드캐스트)
```

**문제점**:
- 충돌 발생 (Collision)
- 보안 취약 (모든 PC가 다른 PC 데이터 볼 수 있음)
- **현재는 거의 사용 안 함**



### 리피터 (Repeater)

**"신호 증폭기"**

- 약해진 신호를 다시 증폭해서 전송
- 전송 거리 연장용
- 현재는 거의 사용 안 함

---

## 2계층: 데이터링크 계층 기기

### 스위치 (Switch)

**"똑똑한 허브" - MAC 주소를 학습해서 정확한 목적지로만 전송**

1. **MAC 주소 학습**: 어느 포트에 어떤 PC가 연결되어 있는지 기억
2. **프레임 필터링**: 목적지 포트로만 전송
3. **충돌 도메인 분리**: 포트별로 독립적 통신

```
1. MAC 주소 테이블 학습
   Port 1: AA:BB:CC:DD:EE:FF (PC1)
   Port 2: 11:22:33:44:55:66 (PC2)

2. 프레임 전송
   PC1 → PC2 데이터: Port 1에서 Port 2로만 전송
   (다른 포트에는 전송 안 함)
```

**장점**:
- 충돌 없음 (각 포트가 독립적)
- 보안 향상 (목적지만 받음)
- 전이중 통신 가능
- 브로드캐스트 도메인은 하나 (모든 포트가 같은 네트워크)

**실무 활용**:
- 사무실 내부 네트워크
- 같은 층/건물 내 연결
- VLAN으로 논리적 네트워크 분리 가능

---

## 3계층: 네트워크 계층 기기

### 라우터 (Router)

**"네트워크의 길찾이" - 서로 다른 네트워크를 연결하고 최적 경로 설정**

1. **라우팅**: IP 주소를 보고 최적 경로 결정
2. **네트워크 분리**: 브로드캐스트 도메인 분리
3. **NAT**: 사설 IP ↔ 공인 IP 변환
4. **방화벽**: 기본적인 보안 기능

**라우팅 테이블 예시**:
```
목적지 네트워크    다음 홉        인터페이스
192.168.1.0/24   직접 연결      eth0
192.168.2.0/24   192.168.1.1   eth0  
0.0.0.0/0        203.252.1.1   eth1 (기본 게이트웨이)
```


```
1. IP 패킷 수신
2. 목적지 IP 주소 확인
3. 라우팅 테이블 검색
4. 최적 경로로 전달
5. TTL 감소 및 새로운 MAC 헤더 추가
```

**실무 활용**:
- 가정용: 인터넷 공유기
- 기업용: 지점 간 연결, 인터넷 연결
- ISP: 대용량 트래픽 라우팅

---

## 게이트웨이 (Gateway)

### 기본 개념

**"서로 다른 프로토콜/네트워크를 연결하는 번역기"**
- 프로토콜 변환
- 네트워크 경계 연결
- 보안 정책 적용

### 게이트웨이 유형

#### 프로토콜 게이트웨이

```
HTTP ↔ FTP 변환
IPv4 ↔ IPv6 변환
이메일 프로토콜 간 변환
```

#### 네트워크 게이트웨이

```
내부망 ↔ 인터넷
사설망 ↔ 공인망
무선 ↔ 유선
```

#### 기본 게이트웨이 (Default Gateway)

- 라우터의 특수한 역할
- "모르는 목적지는 여기로 보내"
- 보통 `192.168.1.1` 같은 주소



## 계층별 비교표

|기기|계층|주요 기능|주소 방식|도메인 분리|
|---|---|---|---|---|
|**허브**|L1|신호 복사|없음|없음|
|**스위치**|L2|MAC 학습/필터링|MAC 주소|충돌 도메인|
|**라우터**|L3|IP 라우팅|IP 주소|브로드캐스트 도메인|
|**게이트웨이**|L3-L7|프로토콜 변환|다양함|네트워크 경계|




