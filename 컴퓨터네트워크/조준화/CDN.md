# CDN

CDN (Content Delivery Network)은 웹 콘텐츠를 사용자에게 더 빠르고 안정적으로 전달하기 위해 전 세계에 분산된 서버로 구성된 네트워크이다. 사용자와 지리적으로 가까운 서버에서 이미지, 동영상, CSS, JavaScript 파일 등과 같은 웹 콘텐츠의 복사본을 전송함으로써 데이터 전송 지연을 최소화하고 웹 페이지 로딩 속도를 획기적으로 개선하는 역할을 한다.

### CDN의 작동 원리

CDN의 핵심 작동 원리는 캐싱(Caching)과 지리적 분산이다.

1. **원본 서버 (Origin Server):** 웹사이트의 모든 원본 콘텐츠를 저장하고 있는 중앙 서버이다.
2. **엣지 서버 (Edge Server):** 전 세계 주요 인터넷 교환 지점(IXP) 근처에 위치한 다수의 분산된 서버로, 원본 서버 콘텐츠의 복사본을 캐싱한다.
3. **사용자 요청 및 라우팅:** 사용자가 웹사이트에 접속하면, DNS는 사용자의 지리적 위치를 파악하여 가장 가까운 엣지 서버로 요청을 보낸다.
4. **콘텐츠 전송:**
   - **캐시 히트 (Cache Hit):** 만약 해당 엣지 서버에 요청된 콘텐츠의 복사본이 있다면 (캐시 히트), 즉시 사용자에게 콘텐츠를 전송한다. 엣지 서버는 사용자와 지리적으로 가깝기에 매우 빠르게 동작한다.
   - **캐시 미스 (Cache Miss):** 만약 엣지 서버에 콘텐츠가 없다면 (캐시 미스), 엣지 서버는 원본 서버에 콘텐츠를 요청하여 받아오고 전송, 캐싱한다.

### CDN 사용의 장단점

장점

- 속도 향상
- 서버 부하 분산
- 비용 절감 : 원본 서버의 트래픽 사용량을 줄임
- 보안 강화 : DDos와 같은 공격을 엣지 서버에서 분산하고 흡수하여 방어할 수 있다.
- 가용성 및 안정성 증가

단점

- 캐시 관리의 복잡성 : 캐시 무효화
- 비용 발생 : CDN 서비스 이용에 따른 추가적 비용 발생
- 특정 지역에 대해 효율성이 매우 낮음

### 엣지 서버의 관리

엣지 서버는 웹사이트 소유자가 아닌 CDN 서비스 제공업체(Provider)가 직접 구축하고 등록하여 관리한다. 웹사이트를 운영하는 개인이나 기업이 전 세계에 직접 서버를 설치하고 관리하는 것은 현실적으로 불가능하므로 이 역할을 CDN 서비스 제공업체가 대신해주는 것이다.

**1. 엣지 서버의 구축 및 관리 주체: CDN 제공업체**

- **전략적 위치 선정:** Akamai, Cloudflare, Amazon Web Services(AWS)와 같은 CDN 제공업체들은 전 세계 인터넷 트래픽의 흐름을 분석한다. 그리고 사용자가 밀집된 지역, 통신사들의 네트워크가 만나는 인터넷 교환 지점(IXP, Internet Exchange Point) 등 전략적으로 중요한 위치를 선정한다.
- **접속 지점(PoP) 구축:** 선정된 위치의 데이터 센터에 여러 대의 엣지 서버를 설치하여 자신들의 접속 지점(PoP, Point of Presence)을 구축한다. 이 PoP들이 모여 거대한 CDN 네트워크를 형성한다.
- **소유 및 운영:** CDN 제공업체는 이 모든 PoP와 엣지 서버 인프라를 직접 소유하거나 임대하여 24시간 365일 안정적으로 운영하고 유지보수한다.

**2. 웹사이트 소유자 (CDN 고객)의 역할**

1. **CDN 서비스 가입:** 원하는 CDN 제공업체의 서비스에 가입한다
2. **도메인 설정 변경:** 자신의 웹사이트 도메인(예: `mywebsite.com`)의 DNS 설정을 변경하여, 사용자의 요청이 원본 서버가 아닌 CDN 네트워크로 향하도록 지정한다.
3. **콘텐츠 자동 배포:** 설정이 완료되면, CDN 시스템이 자동으로 웹사이트의 콘텐츠(이미지, 동영상 등)를 전 세계에 퍼져 있는 자신들의 엣지 서버들로 복제하고 배포(캐싱)한다.
