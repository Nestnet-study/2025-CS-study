# 프록시와 리버스 프록시

프록시와 리버스 프록시는 목적성으로 구분하면 쉽다.

### 1. 프록시 (Proxy Server)

프록시 서버는 **클라이언트를 대신하여** 인터넷에 접속하는 서버이다.

클라이언트 입장에서는 프록시가 대신 인터넷을 통해 서버와 통신을 해주게 된다. 주로 클라이언트의 익명성 보장 혹은 자주 사용하는 데이터에 대한 캐싱을 위해 사용된다.

예를 들어 보자.

공유기는 DNS 프록시 기능을 가지고 있다.

- **동작 방식**
  1. 내 컴퓨터나 스마트폰은 DNS 서버 주소로 통신사나 구글이 아닌 공유기의 내부 IP 주소를 설정한다.
  2. 내가 구글에 접속하면, 내 컴퓨터는 공유기에게 https://www.google.com의 IP 주소를 요청한다.
  3. 공유기는 이 요청을 받아서, 자기가 설정된 KT, 구글과 같은 DNS 서버에 대신 물어본다.
  4. 답변을 받으면 그 결과를 내 컴퓨터에 전달하고 캐싱한다.
- **왜 프록시인가?**
  - 공유기는 내부 네트워크의 기기들에 대한 DNS 요청을 자신이 대신 수행한다. 내부 기기들이 같은 URL에 접속하는 경우 DNS를 캐싱해둔다면 훨씬 효율적이기 때문이다.

### **내부 동작 방식**

1. 요청 : 클라이언트는 웹 브라우저를 통해 프록시 서버에 요청을 보낸다. 이 요청에는 최종 목적지 서버의 주소가 포함되어 있다.
2. 중계 : 프록시 서버는 클라이언트의 요청을 받고, 자신의 IP 주소로 최종 목적지 서버에 요청을 전달한다. 서버 입장에서는 실제 클라이언트의 IP를 알 수 없다.
3. 응답 및 전달

---

### 2. 리버스 프록시 (Reverse Proxy Server)

리버스 프록시는 프록시와 반대로, **서버를 대신하여** 클라이언트의 요청을 받는 서버이다.

클라이언트 입장에서는 실제 서버에 요청을 하는 것인데, 리버스 프록시가 이를 받아서 대신 처리하게 된다. 이를 통해 서버의 보안을 강화하고, 부하를 분산하며, SSL 암호화 등을 처리할 수 있다.

### **내부 동작 방식**

1. 클라이언트는 특정 도메인으로 요청을 보낸다. 이 도메인은 실제 서버가 아닌 리버스 프록시 서버를 가리키고 있다.
2. 리버스 프록시 서버는 클라이언트의 요청을 받은 후 로드 밸런싱, 암호화 등을 처리하여 서버로 전달한다.
3. 응답 및 전달
