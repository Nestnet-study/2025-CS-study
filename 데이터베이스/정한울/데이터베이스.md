# 데이터베이스

---

# RDBMS vs NoSQL

## RDBMS (관계형 데이터베이스)

- **핵심 개념**: 데이터를 **정해진 스키마**에 따라 **테이블**에 저장하고, 테이블 간의 **관계**를 명확히 정의합니다.
- **구조**: 행(Row)과 열(Column)로 구성된 테이블 형태입니다.
- **대표적인 예**: MySQL, PostgreSQL, Oracle, SQL Server
- **확장 방식**: 수직적 확장(Scale-up)을 주로 사용합니다. 이는 하나의 서버 성능을 높여 처리량을 늘리는 방식입니다.
- **수직적 확장을 선호하는 이유**:
    1. **데이터 무결성**: 여러 테이블에 흩어진 데이터를 **JOIN**하여 처리하기 때문에, 모든 데이터가 하나의 서버에 모여 있을 때 **ACID 트랜잭션**을 통한 데이터 일관성을 가장 강력하게 보장할 수 있습니다.
    2. **JOIN 연산**: 테이블이 분산되면 JOIN 연산에 네트워크 통신 비용이 발생하여 성능이 저하됩니다.

## NoSQL (비관계형 데이터베이스)

- **핵심 개념**: 관계를 강제하지 않고, 다양한 형태의 데이터를 저장하는 **비정형 데이터베이스**입니다.
- **구조**: 키-값(Key-Value), 문서(Document), 와이드 컬럼(Wide-Column), 그래프(Graph) 등 다양한 모델이 있습니다.
- **대표적인 예**: MongoDB, Redis, Cassandra, Neo4j
- **확장 방식**: 수평적 확장(Scale-out)을 주로 사용합니다. 이는 서버를 여러 대 추가하여 처리량을 늘리는 방식입니다.
- **수평적 확장을 선호하는 이유**:
    1. **유연한 스키마**: 데이터 구조가 고정되어 있지 않아, 데이터를 분산시키고 각 서버가 독립적으로 데이터를 처리하기 용이합니다.
    2. **JOIN 회피**: 복잡한 관계를 피하고 데이터를 중복 저장하거나 객체 자체를 통째로 저장하여, 여러 서버에 걸친 복잡한 연산 없이도 데이터를 빠르게 조회할 수 있습니다.

# 트랜잭션과 ACID

## 트랜잭션 (Transaction)

- **정의**: 데이터베이스의 상태를 변화시키기 위해 수행되는 작업의 **논리적 단위**. 여러 개의 DB 연산(CRUD)을 하나로 묶은 묶음.
- **목적**: 데이터베이스가 안정적이고 신뢰할 수 있도록 보장하는 **안전장치**.
- **예시**: 계좌 이체 (철수 → 영희 10만 원 송금)
    1. 철수 계좌에서 10만 원 인출.
    2. 영희 계좌에 10만 원 입금.
    
    이 두 작업은 **하나의 트랜잭션**으로 묶여서, 둘 다 성공하거나 둘 다 실패해야 합니다.
    

### 트랜잭션의 상태 변화

- **활성 (Active)**: 트랜잭션이 **실행 중인 상태**.
- **부분 완료 (Partially Committed)**: 모든 연산을 성공적으로 마쳤지만, 아직 **영구적으로 저장되지 않은 상태**.
- **실패 (Failed)**: 실행 중 오류가 발생하여 **더 이상 진행할 수 없는 상태**.
- **철회 (Aborted)**: 실패한 트랜잭션을 원래 상태로 **되돌리는(Rollback) 상태**.
- **완료 (Committed)**: 모든 연산을 성공적으로 마치고, 그 결과가 **영구적으로 저장된 상태**.

# ACID 속성

- **A: 원자성 (Atomicity)**
    - **"All or Nothing"**: 트랜잭션 내의 모든 연산은 **모두 성공하거나, 모두 실패해야** 합니다.
    - **예시**: 계좌 이체 중 오류가 발생하면, 돈이 빠져나가기 전 상태로 완벽히 되돌아갑니다.
- **C: 일관성 (Consistency)**
    - **"정해진 규칙 지키기"**: 트랜잭션이 실행된 후에도 데이터베이스는 미리 정해진 규칙(제약 조건)을 위반하지 않고 **일관된 상태**를 유지해야 합니다.
    - **예시**: 계좌 잔액은 음수가 될 수 없다는 규칙을 지킵니다.
- **I: 고립성 (Isolation)**
    - **"혼자서 작업하기"**: 여러 트랜잭션이 동시에 실행될 때, 서로에게 **영향을 미치지 않고 독립적으로** 실행됩니다.
    - **예시**: 여러 사용자가 동시에 주문 서비스를 이용해도, 각자의 주문 처리는 서로 간섭하지 않습니다.
- **D: 지속성 (Durability)**
    - **"영원히 기억하기"**: 트랜잭션이 성공적으로 완료(커밋)되면, 시스템에 장애가 발생해도 그 결과는 **영구적으로 보존**됩니다.
    - **예시**: 결제 완료 후 시스템이 갑자기 꺼져도 결제 기록은 남아있습니다.

---

# 문제

1. 왜 RDBMS는 스케일 업, NoSQL은 스케일 아웃인가?
    1.