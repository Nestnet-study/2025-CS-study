
# 인터럽트

인터럽트는 CPU가 프로그램을 실행하는 도중에 예기치 않은 상황이나 특정 이벤트가 발생했을 때, 현재 실행 중인 작업을 잠시 중단하고 해당 이벤트를 처리한 후 다시 원래 작업으로 돌아가는 과정이다.

#### 1. 하드웨어 인터럽트 (비동기적)
- **외부 장치에서 발생**: 키보드, 마우스, 디스크, 네트워크 카드 등
	**예시**:
	- 키보드에서 키를 눌렀을 때

#### 2. 소프트웨어 인터럽트 (트랩) (동기적)
- **프로그램 내부에서 발생**: 시스템 호출, 예외 상황 등
	- **예시**:
	    - 0으로 나누기 시도
	    - 프로그램이 명시적으로 인터럽트 요청

#### 3. 내부 인터럽트 (예외)
- **CPU 내부에서 발생**: 오류나 특수 상황
	- **예시**:
	    - 메모리 접근 위반
	    - 명령어 실행 오류



### 인터럽트 서비스 루틴(ISR: Interrupt Service Routine)

인터럽트가 발생하면 처리하기 위한 루틴인 ISR이 실행

![](https://i.imgur.com/k5mBgjg.png)


### 이중 동작 모드

사용자와 OS는 시스템 자원을 공유하기 때문에 사용자에 제한을 두지 않으면 사용자가 메모리 내 주요 자원을 망가뜨릴 위험이 있다.

따라서 사용자의 시스템 자원을 막는 보호 장치가 필요하고, 이 것이 이중 동작 모드이다.

이중 동작 모드는 사용자가 접근할 수 없는 커널 모드, 접근할 수 있는 사용자 모드로 나뉜다.

![](https://velog.velcdn.com/images/pppp0722/post/6529ffb3-9075-47fc-9694-332f6031885a/image.png)

커널 모드는 supervisor mode, system mode, privileged mode로 불린다.

프로세스는 사용자 모드에서 실행되다가 OS에게 시스템 사용을 요청하면 커널 모드로 전환되어 요청된 시스템을 실행한 후 다시 사용자 모드로 전환한다. (시스템 콜)

시스템 콜은 하나의 인터럽트로 취급된다.

커널 모드와 사용자 모드를 구분하기 위해서는 mode bit가 사용되며 0이 커널 모드, 1이 사용자 모드이다.

OS는 일부 명령들을 특권 명령으로 지정하고 커널 모드에서만 실행되게 하며 사용자 모드에서 실행하려고 하면 trap을 건다.




# 시그널(Signal)


- **정의**: 운영체제가 프로세스에게 특정 이벤트가 발생했음을 알리는 소프트웨어적인 통지 메커니즘
- **레벨**: 운영체제(커널)와 사용자 프로세스 사이의 상호작용
- **대상**: 특정 프로세스

## 시그널과 인터럽트 차이점

1. **발생 수준과 처리 주체**:
    - **인터럽트**: 하드웨어 레벨 또는 CPU 레벨에서 발생하며 운영체제 커널에 의해 처리됨
    - **시그널**: 운영체제 레벨에서 생성되어 사용자 프로세스에 전달되고 처리됨
2. **전달 경로**:
    - **인터럽트**: 하드웨어 → CPU → 운영체제 커널
    - **시그널**: 운영체제 커널 → 사용자 프로세스
3. **처리 방식**:
    - **인터럽트**: 인터럽트 핸들러가 커널 모드에서 즉시 실행됨
    - **시그널**: 프로세스가 다음에 CPU를 할당받았을 때 처리됨 (지연 처리 가능)






# 질문
---
# 1. 시그널은 소프트웨어 인터럽트이다. O / X 
# 2. 인터럽트와 시그널 모두 비동기적으로 발생할 수 있으나, 시스템 콜은 항상 동기적으로 실행된다. O / X