## 비선점 vs 선점 스케줄링

### 비선점 스케줄링

- 프로세스가 입출력 요구 등으로 CPU를 자진 반납할 때까지 CPU에 의한 실행을 보장해주는 스케줄링이다.
- 모든 프로세스에 대한 요구를 공정하게 처리할 수 있지만, 짧은 작업을 수행하는 프로세스가 긴 작업 종료 시까지 대기해야할 수도 있음. (**convey 현상**)


### 선점 스케줄링

- 시분할 시스템에서 타임슬라이스가 소진되었거나 인터럽트 혹은 시스템 호출 종료로 인한 여파로 높은 우선순위의 프로세스가 현 프로세스보다를 강제로 중단시키고 CPU를 회수하는 스케쥴링 방식
- 비교적 응답이 빠르다는 장점이 있지만, 처리 시간을 예측하기 힘들고 높은 우선순위 프로세스들이 계속 들어오는 경우 오버헤드를 초래
- 실시간 응답환경, Deadline 응답환경 등 우선순위가 높은 프로세스를 빠르게 처리해야 할 경우 등에 유용

  
| CPU 스케쥴링 | 종류                                                                                                     |
| -------- | ------------------------------------------------------------------------------------------------------ |
| 비선점 스케쥴링 | FCFS(First-Come-Fist-Served) / 최단 작업 우선(SJF, Shortest Job First) <br>/ 우선순위 스케줄링 (Priority Scheduling) |
| 선점 스케쥴링  | 라운드 로빈 스케줄링 / 다단계 큐 스케줄링 / 다단계 피드백 큐 스케줄링                                                              |


## SJF (Shortest Job First)
![](https://i.imgur.com/ltA0lBt.png)

- 실행시간이 짧은 프로세스부터 실행.
- 기아 문제를 야기할 수 있다. (대기 프로세스보다 짧은 프로세스들만 도착하는 경우)
- 프로세스가 도착하기 전에 각 프로세스별 실행시간을 미리 알아야한다. 
	- 실제 운영체제에서는: 프로세스가 실행하기 전 정확히 얼마나 오래 실행될지 알 수 없다.
	- 사용자 입력, 파일 I/O, 네트워크 상태 등 외부요인에 따라 실행시간이 달라진다.
	- => 과거 실행 데이터를 기반으로 예측한다.

## 우선순위(Priority)

![](https://i.imgur.com/onF1XA5.png)

- 우선순위가 더 높은 순서로 프로세스를 실행하는 방법. 
- SJF와 마찬가지로 기아(Starvation)문제가 발생할 수 있다.
	- => 오래된 작업의 우선순위를 높여주는 방식인 노화(aging)을 사용하여 해결할 수 있다.



## 라운드 로빈 (RR, Round Robin)
![](https://i.imgur.com/o4kEoRH.png)
- 현대 컴퓨터가 사용하는 우선순위 스케줄링
- 타임퀀텀안에 작업이 끝나지 않으면 도착한 순서로 작업으로 넘기는 방식.(FIFO방식 채택)
- 각각의 프로세스에 동일한 할당 시간을 부여해서 해당 시간 동안만 CPU를 이용하게 한다. 할당 시간 내에 처리를 완료하지 못하면 강제 중단 후 다음 작업으로 넘어가므로 선점형 방식이다.
- 응답 시간을 빠르게 할 수 있다는 장점이 있지만 할당 시간이 길면 FCFS처럼 작동하고, 반대로 할당 시간이 너무 짧으면 process sharing이라고 부른다. 이것은 n개의 프로세스가 프로세서 속도의 1/n 씩으로 작동함을 의미




## SRT(Shortest Remaining Time)
![](https://i.imgur.com/w3vk8zV.png)
- 프로세스가 도착했을 때 남은시간이 가장 적은 프로세스를 먼저 실행하는 선점 방식
- SJF와는 다르게 선점형 방식이기에 프로세스를 중단하고 짧은 프로세스를 실행하도록 바꾼다.
- SRT는 평균 대기 시간을 줄일 수 있지만 역시 다음 프로세스의 CPU burst time을 예측하는 것이 어렵다는 문제가 존재한다.


## 다단계 큐
![](https://i.imgur.com/Jprmc3N.png)

- 우선순위에 따른 준비 큐가 여러 개의 큐들로 나뉘고 각각의 큐는 각자의 스케줄링 알고리즘을 가지고 있다.
- 우선순위가 높은 큐부터 처리되기 때문에 낮은 큐의 프로세스가 처리가 안되는 기아(Starvation)현상이 나타날 수도 있으며, 각 큐 사이에서 프로세스들이 이동할 수 없어서 유연성이 떨어지는 특성이 있다.  => aging을 통해 해결가능 다단계 피드백 큐(Multi-level Feedback Queue)




# 질문
---
### 1. 다단계 피드백 큐에서 CPU 버스트가 길면 낮은 우선순위 큐로 강등, I/O 요청이 많으면 높은 우선순위 큐로 승격 가능. I/O요청은 분명 오래걸리는 일인데 왜 높은 우선순위 큐로 승격을 할까?
